<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="/product_list.css">
  <title>Document</title>
</head>
<body>
<div class="container">
  <div class="nav-section">
    <nav>
      <ul>
        <li class="logo-box">
          <a href="/"><img src="https://lh3.googleusercontent.com/proxy/mA1xk3N8MfwiFcA-0q704H6RKn8_dr52xtZGu3ZVoH7qPl6EnWpDLb6RRQeL6-AeaqWAqB_3crqOFyP9f0nMFeOv4D7AlDxqw4NDpt1uSfz4EZ0D2DYlTqYdKQ" alt=""></a>
          <div class="supplise"><a href="/product/list?category=GOODS">용품</a></div>
          <div class="supplise"><a href="/product/list?category=EQUIPMENT">기구</a></div>
          <div class="supplise"><a href="/product/list?category=FOOD">식품</a></div>
        </li>
        <li class="member-box">
          <div class="login"><a href="/member/login">로그인</a></div>
          <div class="logout"><a href="/member/logout">로그아웃</a></div>
          <div class="mypage"><a href="#">마이페이지</a></div>
          <div class="signup"><a href="/member/signup">회원가입</a></div>
        </li>
      </ul>
      <div class="search">
        <div class="search-box">
          <form id="search-form" method="get" th:action="@{/product/list}">
            <input id="search_kw" name="kw" placeholder="검색어를 입력해주세요." th:value="${kw}" type="text">
            <input type="hidden" name="category" th:value="${category}" />
            <input type="hidden" name="subCategory" th:value="${subCategory}" />
            <button type="submit">
              <img
                src="https://s3.ap-northeast-2.amazonaws.com/cdn.wecode.co.kr/icon/search.png"></button>
          </form>
        </div>
      </div>
    </nav>
  </div>
  <div class="container-wrap">

    <div th:each="subCategory : ${subCategories}" class="subcategory">
      <ul>
        <li >
          <a th:href="@{|/product/list?category=${category}&subCategory=${subCategory}|}" th:text="${subCategory}"></a>
        </li>
      </ul>
      <div th:text="${subCategory}" class="product-title"></div>
    </div>

    <div class="sort-section">
      <ul>
        <li><button>인기순</button></li>
        <li><button>높은 가격순</button></li>
        <li><button>낮은 가격순</button></li>
      </ul>
    </div>

    <div class="product-list">
      <ul th:each="product : ${products}">
        <li>
          <a href="">
            <div class="img-box">
              <img th:src="${product.imgPath[0]}" alt="">
            </div>
            <div class="info">
              <div th:text="${product.name}" class="name"></div>
              <div th:text="${product.price}" class="cost"><span>원</span></div>
            </div>
          </a>
        </li>
      </ul>
    </div>

    <div th:if="${paging?.isEmpty() == false}" style="text-align: center;">
      <ul class=" page-btn pagination1 justify-content-center">
        <li class="page-item" th:classappend="${!paging.hasPrevious} ? 'disabled'">
          <a class="page-link1" th:href="${paging.hasPrevious} ? @{|?page=${paging.number-1}|} : @{|?page=0|}">
            <span><</span>
          </a>
        </li>
        <li th:each="page: ${#numbers.sequence(0, paging.totalPages-1)}"
            th:if="${page >= paging.number-5 and page <= paging.number+5}"
            th:classappend="${page == paging.number} ? 'active'"
            class="page-item">
          <a th:text="${page+1}" class="page-link1" th:href="@{|?page=${page}|}"></a>
        </li>
        <li class="page-item" th:classappend="${!paging.hasNext} ? 'disabled'">
          <a class="page-link1" th:href="@{|?page=${paging.number+1}|}">
            <span>></span>
          </a>
        </li>
      </ul>
    </div>
  </div>
  <div class="footer">
    푸터입니다.
  </div>
</div>
</body>
</html>